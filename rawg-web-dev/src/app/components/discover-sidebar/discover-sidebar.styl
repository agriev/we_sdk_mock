$mobile-sidebar-height = 88px

$activeElement(active = false)
  color white
  transition all 0.3s

  if active
    font-weight bold

  .discover-sidebar__icon
    background-color white
    transition all 0.3s

    .discover-sidebar__icon-svg,
    .discover-sidebar__icon-svg path
      fill #151515

    &.discover-sidebar__icon_categories
      path
        stroke #151515

.discover__sidebar
  &.discover__sidebar_desktop
    box-sizing border-box
    width 200px
    margin-right 20px
    margin-top 40px

  &.discover__sidebar_mobile
    .discover-sidebar__link
      $font14-small()

      &_active
        font-weight bold

    .discover-sidebar__image,
    .discover-sidebar__icon
      min-width 24px
      width 24px
      height 24px

    .discover-sidebar__icon-svg
      width 16px
      height 16px

.discover-sidebar__wrapper
  position fixed
  bottom 0
  left 0
  right 0
  display flex
  flex 0 1 auto
  min-height $mobile-sidebar-height
  background-color black
  opacity 0
  transform translateY(100%)
  transition transform 0.2s, opacity 0.3s
  z-index 3
  overflow hidden

  &_visible
    opacity 1
    transform translateY(0)

.discover-sidebar__nav
  &_mobile
    position fixed
    top 0
    left 0
    right 0
    width 100%
    height 100%
    box-sizing border-box
    padding 24px
    background-color black
    z-index 7
    overflow auto

    @media (min-width: 375px) and (max-width: 979px)
      .discover-sidebar__menu
        width calc(50% - 8px)

      .discover-sidebar__menu:nth-child(even)
        float right

      .discover-sidebar__menu:nth-child(odd)
        float left
        margin-right 16px

      &:after
        content ''
        display block
        clear both

.discover-sidebar__nav-close.close-button
  position fixed
  width 48px
  height 48px
  bottom 16px
  right 16px
  background white
  border none

  path
    fill black

.discover-sidebar__mobile-nav
  display flex
  flex 0 1 auto
  width 100%
  white-space nowrap
  overflow auto

  .discover-sidebar__list
    display flex
    flex 0 1 auto
    margin 0
    padding-right 32px

  .discover-sidebar__item
    margin 0 !important
    padding 22px 0 34px 12px
    display flex
    align-items center

.discover-sidebar__menu-button-wrapper
  position relative
  height $mobile-sidebar-height
  box-sizing border-box
  font-size 0

  &::before
    content ''
    position absolute
    left -32px
    display block
    height $mobile-sidebar-height
    width 32px
    background-image linear-gradient(to right, rgba(black, 0), black)
    border-right 1px solid #2f2f2f

.discover-sidebar__menu-button
  height $mobile-sidebar-height
  box-sizing border-box
  padding 24px 12px 36px

.discover-sidebar__menu-button-icon
  display block
  height 20px

  & > svg
    height 100%

.discover-sidebar__title
  $remove-link-style()
  $font24-large()
  display block
  margin-bottom 16px
  font-weight bold

  .theme_light .page__content a&
    color white

  @media $bp.phone
    margin-bottom 8px
    font-weight bold

.discover-sidebar__list
  margin 0 0 24px
  padding 0
  list-style none

.discover-sidebar__item
  &:not(:last-child)
    margin-bottom 8px

.discover-sidebar__link
  $remove-link-style()
  $font16-medium()
  display flex
  flex 0 1 auto
  align-items center
  justify-content flex-start
  transition all 0.3s

  .theme_light .page__content a&
    color white

  &.discover-sidebar__link_toggle
    cursor pointer
    transition transform .3s
    opacity .4

    .discover-sidebar__icon-svg
      width 8px

  &.discover-sidebar__link_toggle-opened
    .discover-sidebar__icon-svg
      transform translateY(1px) rotate(-90deg)

  &.discover-sidebar__link_toggle-collapsed
    .discover-sidebar__icon-svg
      transform translateY(1px) rotate(90deg)

  &_active
    $activeElement(true)

  &:hover
    @media $bp.desktop
      $activeElement(false)

.discover-sidebar__image,
.discover-sidebar__icon
  width 32px
  min-width 32px
  height 32px
  margin-right 8px
  border-radius 6px
  object-fit cover

.discover-sidebar__icon
  display flex
  flex 0 1 auto
  justify-content center
  align-items center
  background-color rgba(white, 0.1)
  transition all 0.3s

.discover-sidebar__icon-svg
  width 18px
  height 18px

  .discover-sidebar__icon_wishlist &
    @media $bp.desktop
      width 26px
      height 26px

  .discover-sidebar__icon_library &
    @media $bp.desktop
      width 26px
      height 26px

  .discover-sidebar__icon_year-top &
    @media $bp.desktop
      width 20px
      height 20px

  .discover-sidebar__icon_all-time-top &
    @media $bp.desktop
      width 22px
      height 22px

  &, path
    fill white

.discover-sidebar__user
  display flex
  flex 0 1 auto
  align-items center
  justify-content flex-start
  $remove-link-style()

.discover-sidebar__username
  max-width 150px
  margin-right 8px
  text-overflow ellipsis
  overflow hidden

  @media $bp.phone
    max-width 120px

.discover-sidebar__heading-mobile-menu
  display flex
  flex 0 1 auto
  flex-direction column
  justify-content center
  align-items flex-start
  margin-bottom 16px

  @media $bp.phone
    align-items center

.discover-sidebar__heading
  margin 0
  font-weight bold
  text-align center

  .discover-sidebar__icon
    display inline-flex
    flex 0 1 auto
    align-items center
    vertical-align baseline
    width 32px
    height 32px
    background white

    svg,
    path
      width 24px
      height 24px
      fill #151515


  .discover-sidebar__image
    width 32px
    height 32px

.discover-sidebar__arrow-icon
  display inline-flex
  flex 0 1 auto
  align-items center
  margin-left 8px
  vertical-align middle

  svg
    width 14px
    height 8px
    fill white

.input-search.discover-sidebar__search-input
  margin-bottom 38px
  border-bottom 1px solid alpha($color-white, 0.2)
  cursor pointer
  padding-bottom 0

  .input-search__input
    cursor pointer
    font-size 16px
    height auto
    margin-bottom 15px
    padding 0 10px 0 25px

  .input-search__icon
    top 2px
    .input-search__icon-svg
      width 18px
      height 18px

.discover__sidebar-controls
  display flex
  flex 0 1 auto
  align-items center
  justify-content center
  margin-bottom 16px

  @media $bp.phone
    display none

.discover-sidebar__container
  display flex
  flex-direction column

  height 100%
